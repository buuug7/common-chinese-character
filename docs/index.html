<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <title>常用汉字3500个</title>
    <style>

    *, *:before, *:after {
        box-sizing: border-box;
    }

    body{
        min-width: 320px;
    }

    .word {
        display: inline-flex;
        justify-content: center;
        align-content: center;
        flex-direction: column;
        font-size: 2rem;
        background-color: #eceff1 ;
        /*border: 1px solid rgba(255, 0, 0, 0.8);*/
        color: black;
        position: relative;
        text-align: center;
        padding: 1rem;
    }

    .word .num {
        position: absolute;
        font-size: 12px;
        top: 0;
        right: 0;
        padding: .2rem;
        /*background-color: rgba(255, 255, 255, 1);*/
    }

    .word .pinYin {
        font-size: 20px;
    }

    .container {
        display: grid;
        grid-template-columns: repeat(auto-fill, 150px);
        grid-row-gap: 1rem;
        grid-column-gap: 1rem;
        justify-content: center;
    }

    .text-center {
        text-align: center;
    }

    .letter {
        display: inline-block;
        padding: 1rem;
    }

    .letter.current{
        text-decoration: none;
        color: black;
        cursor: default;
    }
    </style>
</head>
<body>

<div id="app">
    <h2 class="text-center">常用汉字3500个</h2>

    <div class="letters">
        <a href="#" class="letter"
           @click="handleClick(item)"
           v-for="item in letters"
           :class="{current: item === currentCategory }"
        >{{item}}</a>
    </div>

    <h3 class="text-center">{{currentCategory}}</h3>
    <div class="container">
        <div class="word" :key="item.id"
             v-for="item in words">
            <span class="num">{{item.id}}</span>
            <span class="pinYin">{{item.pinYin}}</span>
            <span class="text">{{item.text}}</span>
        </div>
    </div>

</div>

<script src="vue.js"></script>
<script>
new Vue({
  el: '#app',
  data: {
    words: null,
    currentCategory: 'A'
  },
  mounted () {
    // 默认显示 A
    this.handleClick('A');
  },
  
  computed: {
    // generate A-Z
    letters: function () {
      const letters = [];
      for (let i=0;i<26; i++) {
        letters.push(String.fromCharCode(65+i))
      }
      return letters;
    }
  },

  methods: {

    handleClick: function (item){
      this.currentCategory = item;
      this.getData(item);
    },

    getData: function (category) {
      fetch(`./${category}.json`).then(res => res.json()).then(json => {
        this.words = json.data
      });
    }
  }
})
</script>
</body>
</html>
